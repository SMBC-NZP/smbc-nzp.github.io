{
    "collab_server" : "",
    "contents" : "---\noutput:\n html_document:\n  theme: yeti\n---\n\n<head>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n</head>\n\n<style>\n\ncode{\n  background-color:#f2f2f2;\n  border-radius: 25px;\n}\n \nspan.co{\n  color:#000080;\n  font-weight: bold;\n}\n \nimg{\n  display: block;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nh4{\n  text-align: left;\n  font-size: 20px;\n}\n\np{\n  text-align: left;\n  font-size: 16px;\n}\n\nul, ol{\n  line-height: 27px;\n  text-align: left;\n  font-size: 16px;\n  margin-left: 0px;\n}\n \nblockquote{\n  font-size: 18px;\n  border-left: 8px solid #292093;\n  background-color: #e6ffff;\n  padding-left: 16px;\n  padding-right: 16px;\n}\n \n.row{\n  margin: auto;\n}\n \ntable {\n  border-collapse: collapse;\n}\n\ntable, td, th {\n  border: 1px solid black;\n  padding: 5px;\n  text-align: center;\n  vertical-align: middle;\n}\n \n /* Create two equal columns that floats next to each other */\n.column {\n  float: left;\n  width: 50%;\n  padding: 10px;\n}\n\n/* Clear floats after the columns */\n.row:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.roundBorder {\n  border-radius: 25px;\n  border: 5px solid #30288C;\n  background: #D6EAF8;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.roundBorderBlack {\n  border-radius: 25px;\n  border: 10px solid #D3D3D3;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.roundBorderBlackEx {\n  border-radius: 5px;\n  border: 5px solid #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 2px;\n}\n\n.roundBorderEx {\n  border-radius: 3px;\n  border: 5px solid #30288C;\n  background: #D6EAF8;\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 2px;\n}\n\n.tt {\n    position: relative;\n    display: inline-block;\n    class: inline; \n    font-weight: bold;\n    font-family: \"Avenir\";\n    font-size: 18px;\n    border-bottom: 1px black;\n}\n\n/* Tooltip text */\n.tt .ttText {\n    visibility: hidden;\n    font-weight: normal;\n    font-size: 18px;\n    width: 200px;\n    background-color: black;\n    border: 1px solid black;\n    color: white;\n    text-align: left;\n    padding: 5px;\n    border-radius: 6px;\n    position: absolute;\n    z-index: 1;\n}\n\n/* Show the tooltip text when you mouse over the tooltip container */\n.tt:hover .ttText {\n    visibility: visible;\n}\n\n</style>\n\n```{r, eval = TRUE, include  = FALSE}\n# Load libraries:\n\nlibrary(RCurl)\nlibrary(lubridate)\n\n# Load a source script:\n\nscript <-\n  getURL(\n    \"https://raw.githubusercontent.com/bsevansunc/workshop_languageOfR/master/sourceCode_lesson6.R\"\n  )\n\n# Evaluate then remove the source script:\n\neval(parse(text = script))\n\nrm(script)\n\nlibrary(knitr) ; library(kableExtra)\n\noptions(knitr.table.format = \"html\")\n\nmass_histogram <- birdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = spp))\n\nmassDensity <- birdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_density(aes(fill = spp))\n\nzPalette <- c('#9EB8C5', '#F32017')\n```\n\n<h1 style=\"text-align: center;\">Introduction to data science in R, Lesson 7:<br/>Introduction to ggplot</h1>\n<br>\n<!img style=\"float: left; margin: 0px 0px 15px 15px;\" src=\"nzpLogo.jpg\" width=\"150\" />\n<p style = \"text-align: center; font-size: 14px;\">Brian S. Evans, Ph.D.<br />\nMigratory Bird Center<br/>\nSmithsonian Conservation Biology Institute</p>\n<hr>\n\n<h2>Introduction</h2>\n\n<p>Lorem ipsum</p>\n\n<hr>\n\n<h2>Before we begin</h2>\n<p>Copy, paste, and run the following code in R Studio to load the packages and read in the data that we will be using for this lesson:</p>\n```{r, eval=FALSE}\n# Load libraries:\n\nlibrary(RCurl)\nlibrary(lubridate)\n\n# Load a source script:\n\nscript <-\n  getURL(\n    \"https://raw.githubusercontent.com/bsevansunc/workshop_languageOfR/master/sourceCode_lesson6.R\"\n  )\n\n# Evaluate then remove the source script:\n\neval(parse(text = script))\n\nrm(script)\n```\n<br>\n<hr>\n<h2>Initiating a plot</h2>\n\n<p>To illustrate how to use ggplot, we will walk through the generation of a plot. Plotting is an iterative process in which we add plot elements one at a time to a plot</p>\n\n<p>Have a look at `birdMeasures` before we begin:</p>\n\n```{r birdMeasures, eval = FALSE}\nbirdMeasures\n```\n\n<p>The first function that we will learn is `ggplot`. Run the code below and observe the output:</p>\n```{r gg0}\nggplot(birdMeasures)\n```\n\n<hr>\n<h2>Aesthetics</h2>\n<p>The <b>aesthetic</b> of a plot element describes how variables are mapped and is called using the function `aes` from within the plot element function. For example, if we wish to set the x of our plot, we call `aes` from within the `ggplot` function:</p>\n\n```{r aes}\nggplot(birdMeasures, aes(x = spp))\n```\n\n<p>Still don't see anything? That's to be expected, because we have yet to tell `ggplot` what we wish to plot.</p>\n\n<hr>\n<h2>Geometries</h2>\n<p>A <b>geometry</b> plot element provides a visible representation of observations. They are called using the function `geom_[geometry]`. Geometries that we will use in this workshop include:\n<ul>\n<li>`geom_bar`: Bars for bar plots</li>\n<li>`geom_histogram`: Histogram plot for observing distributions</li>\n<li>`geom_violin`: Violin (or bean) plot for observing distributions</li>\n<li>`geom_density`: Density plot for observing distributions</li>\n<li>`geom_point`: Point plot for observing raw data</li>\n</ul>\n\n<p>We will start with a bar plot in which we count the number of observations for each species. Note that plot elements are connected using `+` and each element start on a new line:</p>\n<br>\n\n```{r geom_bar}\nggplot(birdMeasures, aes(x = spp)) +\n  geom_bar()\n```\n\n<p>Note that `birdMeasures` is the data frame and the first argument of `ggplot`. This allows us to use a pipe (and we should):</p>\n<br>\n\n```{r pipe}\nbirdMeasures %>%\n  ggplot(aes(x = spp)) +\n  geom_bar()\n```\n\n<p>The above makes what is being plotted considerably clearer and allows us modify the data going in. For example, let's remove the species \"NOCA\" (Northern cardinal) prior to plotting:</p>\n<br>\n\n```{r removeNoca}\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar()\n```\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise One:</h2>\n<hr>\n<p>The function `geom_density` can be used to display the density distribution of a vector. Using the <b>aesthetic</b> `x = mass`, display the distribution of Black-capped and Carolina chickadee mass measurements:</li>\n<br>\n```{r exercise 1b density}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_density()\n```\n<br>\n</ol>\n</blockquote>\n\n<h3>Geometry: Adding arguments</h3>\n<p>The functions `geom_histogram` can be used to diplay distributional data as a histogram. The code below can be used to generate a histogram plot of the mass distribution of Black-capped and Carolina chickadees:</p>\n```{r histogram}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram()\n```\n<br>\n<p>Notice that the above produced a warning message that the default bins may not be the best choice. We can modify this in one of two ways. One method is to add a `binwidth` argument to the `geom_histogram`:</p>\n```{r histogram binwidth}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(binwidth = 1)\n```\n<br>\n\n<p>You may also provide the number of bins, `bins`, to specify the number of bins to be drawn</p>\n`binwidth` argument to the `geom_histogram`:</p>\n```{r histogram bins}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(bins = 20)\n```\n<br>\n\n<p>Several features can be added to a geometry to improve the look of your plot. For example, let's return to our bar plot of the number of birds captured per species and change the `fill` color of the bars to \"gray\":</p>\n\n```{r bar plot gray fill}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar(fill = 'gray')\n```\n<br>\n\n<p>Note that the argument is `fill` not `color` -- `color` defines the outline of the bars:</p>\n\n```{r bar plot black color}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar(fill = 'gray', \n           color = 'black')\n```\n<br>\n\n<p>We can adjust the size of the borders using the `size` argument of the `geom_bar` function:</p>\n\n```{r bar plot border width}\n# Subset birdCounts to ground foraging birds:\n\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar(fill = 'gray', \n           color = 'black',\n           size = 0.7)\n```\n<br>\n<p>Note that it's best practice in coding that each argument in a function (i.e. arguments separated by a comma) be written on its own line.</p> \n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Two:</h2>\n<hr>\n<p>Modify your density plot from Exercise One:</p>\n<ul>\n<li>Use the `fill` argument to fill your density shape with the color \"gray\":</li>\n<li>The argument `alpha` can be applied to a geometry to adjust its transparency. Adjust the density shape to `alpha =  0.7`</li>\n</ul>\n<br>\n```{r exercise 2}\n# Density, filled by species\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_density(fill = 'gray', alpha = 0.7)\n```\n<br>\n</blockquote>\n<br>\n\n<h3>Geometry: Adding aesthetics</h3>\n\n<p>Additional <b>aesthetics</b> can be added to a geometry statement. Recall that aesthetics refer to mapping the value of some variable to an observable feature. For example, we may want to see the number of observations by region. To do so, let's color the bars such that each region is represented by a color using the argument `fill`:</p>\n\n```{r fill}\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar(aes(fill = region))\n```\n<br>\n\n<p>Let's repeat the above with our histogram of chickadee mass measurements. We can add an aesthetics argument to the function `geom_histogram` to plot separate distributions for male and female chickadees:</p>\n```{r histogram fill}\n# Density, filled by species\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex),\n                 bins = 20)\n```\n<br>\n\n<p>Arguments that you might not want to map to a variable, such as `color`, are defined outside of the `aes` argument:</p>\n```{r histogram fill color}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex),\n                 bins = 20,\n                 color = 'black')\n```\n<br>\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Three:</h2>\n<hr>\n<p>Modify your density plot from Exercise Two. Use the `fill` argument of the function `geom_density` to assign a different fill color to females and males.</p>\n```{r exercise 3 density fill}\n# Density plot, filled by sex:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_density(aes(fill = sex),\n               alpha = 0.7)\n```\n<br>\n</blockquote>\n<hr>\n\n<h2>Facets</h2>\n\n<p>Facets allow you to display multiple plots, which can be very useful to show differences between groups. Let's use the `facet_wrap` function and your histogram to compare differences in mass between Black-capped and Carolina chickadees.</p> \n\n```{r facet}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp)\n```\n<br>\n\n<p>By separating Black-capped and Carolina chickadees, the difference between mass measurements is apparent. Your eyes still have to do too much work to compare them though. We can use the `nrow` argument of the `facet_wrap` function to move the plots on top of one another:</p>\n\n```{r facet nrow}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), bins = 20) +\n  facet_wrap(~spp, nrow = 2)\n```\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Four:</h2>\n<hr>\n<p>Modify your density plot from Exercise Three. Use the `facet_wrap` function with the argument `nrow = 2` to generate separate plots of Black-capped and Carolina chickadees.</p>\n```{r exercise 4 facet_wrap}\n# Density plot, filled by sex:\n\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_density(aes(fill = sex),\n               alpha = 0.7) +\n  facet_wrap(~spp, nrow = 2)\n```\n<br>\n</blockquote>\n<hr>\n\n<h2>Labels</h2>\n\n<p>Even the best-looking plot can be marred by using unattractive titles. Let's modify the bar plot of captures by species and region above. To change the axis titles and add a title to the plot, we can use the `labs` function:</p>\n\n```{r bar plot labs}\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  ggplot(aes(x = spp)) +\n  geom_bar(aes(fill = region),\n           color = 'black',\n           size = .7) +\n  labs(title = 'Birds banded and recaptured 2000-2017',\n       x = 'Species',\n       y = 'Count')\n```\n\n<p>Piping can be useful for changing labels. For example, not many people outside of ornithology know the four-letter alpha code for birds. We can map the codes to species names using the `labels` argument of the `factor` function (from lesson one):</p>\n<br>\n\n```{r species labels}\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  mutate(spp = factor(\n    spp,\n    labels = c(\n      'American robin',\n      'Black-capped chickadee',\n      'Carolina chickadee',\n      'Gray catbird'\n    )\n  )) %>%\n  ggplot(aes(x = spp)) +\n   geom_bar(aes(fill = region),\n           color = 'black',\n           size = .7) +\n  labs(title = 'Birds banded and recaptured 2000-2017',\n       x = 'Species',\n       y = 'Count')\n```\n<br>\n\n<p>You may have noticed that `ggplot` code can get unwieldly because of all of the arguments. Once you are happy with the basic elements of your plot (data in, plot aesthetics, and geometry), it's a good idea to assign a name to the plot.</p>\n\n```{r assign name}\nbirdCaptures_basicPlot <- birdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  mutate(spp = factor(\n    spp,\n    labels = c(\n      'American robin',\n      'Black-capped chickadee',\n      'Carolina chickadee',\n      'Gray catbird'\n    )\n  )) %>%\n  ggplot(aes(x = spp)) +\n   geom_bar(aes(fill = region),\n           color = 'black',\n           size = .7) +\n  labs(title = 'Birds banded and recaptured 2000-2017',\n       x = 'Species',\n       y = 'Count')\n```\n<br>\n<p>You can then call the plot by simply typing its name:</p>\n\n```{r call name}\nbirdCaptures_basicPlot\n```\n<br>\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Five:</h2>\n<hr>\n<p>Modify the density plot you created in Exercise Four:</p>\n<ul>\n<li>Using the piping method, change the names \"BCCH\" and \"CACH\" to \"Black-capped\" and \"Carolina\"</li>\n<li>Add the title \"Mass of Carolina and Black-capped chickadees and capitalize the x and y axis titles</li>\n<li>Assign the name \"massDensity\" to the plot</li>\n</ul>\n<br>\n```{r exercise 5 labels}\n# Labels for massDensity:\n\nmassDensity <- birdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  mutate(spp = factor(\n    spp,\n    labels = c(\n      'Black-capped',\n      'Carolina'\n    )\n  )) %>%\n  ggplot(aes(x = mass)) +\n  geom_density(aes(fill = sex),\n               alpha = 0.7) +\n  facet_wrap(~spp, nrow = 2) +\n  labs(title = \"Mass of Carolina and Black-capped chickadees\",\n       x = 'Mass', \n       y = 'Density')\n\nmassDensity\n```\n<br>\n</blockquote>\n\n<hr>\n\n<h2>Scaling axes</h2>\n<p>The default choice of scale for the axes are typically not very professional looking. Let's rescale our y axis. By default, there is additional space at the bottom and top of the axis. This is known as <b>axis expansion</b>. We can remove this using the function `scale_y_continuous` with the argument `expand`:</p>\n\n```{r scale expand 0 0}\nbirdCaptures_basicPlot +\n  scale_y_continuous(expand = c(0,0))\n```\n<br>\n<p>The vector `c(0,0)` above removes the default expansion between the limits of values and the ends of the axes.</p>\n\n<p>The above is still not very aesthetically pleasing, because we've run out of y-axis labels (tick marks) above 1000 and the Gray catbird bar touches the top of the plot. We can use `scale_y_continuous` to manually set the beginning and end points of the y axis. To determine the appropriate point, let's first take a look at the values we will be plotting:</p>\n\n```{r summary}\nbirdMeasures %>%\n  filter(spp != 'NOCA') %>%\n  group_by(spp) %>%\n  summarize(n = n())\n```\n<br>\n<p>We can see in the above that the count of Gray catbirds is 1395. A y-axis that spans from 0 to 1500 would probably be appropriate. We can use the `limits` argument with a vector representing the bottom and top value (`c([bottom], [top])`) to manually set the axis limits:</p>\n```{r scale limits}\nbirdCaptures_basicPlot +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 1500))\n```\n<br>\n<p>We can also manually set the breaks (tick marks) between the limits. For example, perhaps we want tick marks on the y-axis every 250 birds. We use the `breaks` argument of the `scale_y_continuous` function:</p>\n\n```{r scale breaks}\nbirdCaptures_basicPlot +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 1500),\n                     breaks = seq(0, 1500, by = 250))\n```\n<br>\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Six:</h2>\n<hr>\n<p>Plot `massDensity`. Use the `expand`, `limits`, and `breaks` arguments of the function `scale_y_continuous` to scale the y-axis such that the scale ranges from 0 to 0.7 and breaks occur at intervals of 0.1.</p>\n<br>\n```{r exercise 6 scale y axis}\n# new y axis scale for massDensity:\n\nmassDensity +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 0.8),\n                     breaks = seq(0, 0.8, by = 0.1))\n\n```\n<br>\n</ol>\n</blockquote>\n<hr>\n\n<h2>Colors</h2>\n\n<p>The default colors that ggplot uses are just plain ugly. Luckily it's easy to modify the colors to those of your choosing. Here we'll use the function `scale_fill_manual` to specify the colors for the fill:</p>\n\n```{r scale fill}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = c('blue', 'red'))\n```\n<br>\n\n<p>There really wasn't much improvement here. My preference is to hunt around for colors I like and grab their hex codes. For example, I used a \"color-picker\" app to extract the colors of Team Zissou's uniforms from the movie The Life Aquatic.</p>\n<br>\n<img src=\"rWorkshop/images/lifeAquatic.jpg\" \n\ttitle=\"the tidyverse\"\n\talt = \"icons\"\n\tborder=\"0\"\n\t\tstyle= \"float: center; \n\t      padding-right: 0px;\n\t      border-style: solid;\n\t      border-width: 10px;\n\t      border-color: white;\n\t      width: 80%;\"/>\n<br>\n\n```{r scale fill custom}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = c('#9EB8C5', '#F32017'))\n```\n<br>\n\n<p>It's a good idea to save the colors that you like for future use. For example, I could have have saved my colors as:</p>\n\n```{z palette, eval = FALSE}\nzPalette <- c(shirt = '#9EB8C5', hat = '#F32017')\n```\n<br>\n\n<p>You can then apply your custom color palette using:</p>\n\n```{r scale fill zPalette}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = zPalette)\n```\n<br>\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Seven:</h2>\n<hr>\n<p>Modify the density plot you created in Exercise Six. Use `scale_fill_manual` to set custom fill colors.</p>\n<br>\n```{r exercise 7 colors}\n# Colors for massDensity:\n\nmassDensity +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 0.8),\n                     breaks = seq(0, 0.8, by = 0.1)) +\n  scale_fill_manual(values = zPalette)\n```\n<br>\n</ol>\n</blockquote>\n<hr>\n\n\n<h2>Legends</h2>\n\n<p>Legends, also called <b>guides</b> can be rather cumbersome. I suggest making any modifications to legend items, with exception to a legend title, to the data frame being plotted (the piping method described above). For example, we can use piping to modify the legend of the histogram as follows:</p>\n\n```{r legend piped}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  mutate(sex = factor(sex,\n                      labels = c('Female','Male'))) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = c('#9EB8C5', '#F32017'))\n```\n<br>\n\n<p>An alternative to the piping method is to modify the `scale_fill_manual` function, where the fill colors were defined. Here, we can set a new legend `name` and the `labels`:</p>\n\n```{r legend scale fill}\nbirdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = c('#9EB8C5', '#F32017'), \n                    name = 'Sex', \n                    labels = c('Female', 'Male'))\n```\n\n<blockquote>\n<h2><i class= \"fa fa-user-circle-o\" style = \"font-size: 150%;\"></i> Exercise Eight:</h2>\n<hr>\n<p>Modify the density plot you created in Exercise Seven. Use `scale_fill_manual` to set the legend title and labels.</p>\n<br>\n```{r exercise 8 legend}\n# Colors for massDensity:\nmassDensity +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 0.8),\n                     breaks = seq(0, 0.8, by = 0.1)) +\n  scale_fill_manual(values = zPalette,\n                    name = 'Sex', \n                    labels = c('Female', 'Male')) \n```\n<br>\n</ol>\n</blockquote>\n<hr>\n\n<h2>Themes</h2>\n\n<p>Plots go from functional to publishable only once you set custom <b>themes</b>. Themes describe how each of the elements of a plot looks. Code tends to get very long very quickly when you start playing with themes, so this is a good time to assign a name your current plot.</p>\n\n<p>The bar plot:</p>\n```{r, eval = FALSE}\nbarplot2Theme <- birdCaptures_basicPlot +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 1500))\n\n```\n<br>\n<p>The histogram plot:</p>\n```{r, eval = FALSE}\nhistogram2Theme <- birdMeasures %>%\n  filter(spp %in% c('BCCH', 'CACH')) %>%\n  ggplot(aes(x = mass)) +\n  geom_histogram(aes(fill = sex), \n                 bins = 20,\n                 color = 'black') +\n  facet_wrap(~spp, nrow = 2) +\n  scale_fill_manual(values = c('#9EB8C5', '#F32017'), \n                    name = 'Sex', \n                    labels = c('Female', 'Male'))\n```\n<br>\n\n```{r, eval = FALSE}\n# Colors for massDensity:\ndensity2Theme <- massDensity +\n  scale_y_continuous(expand = c(0, 0),\n                     limits = c(0, 0.8),\n                     breaks = seq(0, 0.8, by = 0.1)) +\n  scale_fill_manual(values = zPalette,\n                    name = 'Sex', \n                    labels = c('Female', 'Male')) \n```\n",
    "created" : 1521538926880.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2458381888",
    "id" : "4339461C",
    "lastKnownWriteTime" : 1519768810,
    "last_content_update" : 1519768810,
    "path" : "C:/Users/Guest user/gits/smbc-nzp.github.io/lesson7_worksheet.Rmd",
    "project_path" : "lesson7_worksheet.Rmd",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}